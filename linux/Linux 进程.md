+ 动态查看前台进程: `top`


| `top`    | `-d秒数`   | `-i`        | `-p`          |
| -------- | -------- | ----------- | ------------- |
| 动态查看前台进程 | 每隔指定秒数刷新 | 不显示闲置或者僵尸进程 | 通过 pid 监控某个进程 |
+ `top` 指令显示界面相关属性：
```shell
top - 13:24:20//指令刷新时间 
	 up 2:31,// 系统运行时间
	 1 user //连接系统的用户数量, 
	 load average: 0.21, 0.06, 0.06//linux负载 三个数相加除以3>0.7说明负载率高
Tasks: 217 total,//总进程数量
	 1 running,//运行中 216 sleeping,//休眠 0 stopped,//停止 0 zombie//僵尸 
%Cpu(s): 0.7//系统占用cpu百分比 us, 0.7//用户占用cpui百分比
 	 sy, 0.0 ni, 98.7 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st 
KiB Mem : 1863004 total//总内存, 924908 free, 575720 used, 362376 buff/cache
KiB Swap: 1952764 total, 1952764 free, 0 used. 1115716 avail Mem 
PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND
```


+ 进入 top 界面后的交互指令
  

| P      | M    | N      | Q      | `u 用户名` | `k 进程号` | 9    |
| ------ | ---- | ------ | ------ | ------- | ------- | ---- |
| CPU 排序 | 内存排序 | PID 排序 | 退出 top | 监控特定用户  | 终止进程    | 强制执行 |



+ 查看后台进程：`ps`

| Ttv  | Pid | Time       | Cmd        | %cpu       | %mem  | STAT                     | START   |
| ---- | --- | ---------- | ---------- | ---------- | ----- | ------------------------ | ------- |
| 终端机号 | 进程号 | 消耗的 cpu 时间 | 进程名称或执行的命令 | 占用 cpu 百分比 | 内存百分比 | 进程状态：s: 睡眠 r: 正在运行 z: 僵尸 | 进程的开启时间 |

| `ps`   | `-a`       | `-u`        | `-x`        | -e       | -f    |
| ------ | ---------- | ----------- | ----------- | -------- | ----- |
| 查看后台进程 | 显示进程终端详细信息 | 以用户格式显示进程信息 | 显示后台进程运行的参数 | 查看所有进程信息 | 全格式查看 |

+ `pstree ` 以树状形式查看进程

| -p     | -u     |
| ------ | ------ |
| 显示 pid | 显示所属用户 |

# 进程，子进程与线程
+ 子进程通过 `fork()` 创建，继承父进程的代码，资源，信息，但他是一个独立的进程，用于帮助父进程完成任务，或者帮助父进程并行完成任务。
+ 线程是进程下的执行单位，通过 `pthread_create()` 等函数建立，他不独立，与进程共享地址空间和资源，如果线程崩溃可能导致进程崩溃。但共享的方式使其在共享数据，通信上有速度优势。
+ 因此，执行安全的代码，且需要大量共享数据或者通信的任务可以用线程，而执行不安全的代码要选用子进程方式。



## 强制下线用户实例
1. 使用 `ps -ef|grep sshd` 查看用户的哪些进程在远程链接
2. `kill pid` 来强制下线

# 强制终止远程服务
1. 使用 `ps -ef|grep sshd` 查看远程服务进程
2. `kill pid` 来终止远程服务